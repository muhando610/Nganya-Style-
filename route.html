<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Extend Route</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}
    body{background:#f4f9ff;color:#0f172a;}header{
  background:linear-gradient(135deg,#0b71f4,#0a5fd1);
  padding:24px 18px;
  color:white;
  text-align:center;
  border-bottom-left-radius:22px;
  border-bottom-right-radius:22px;
  box-shadow:0 5px 20px rgba(0,0,0,0.15);
}
header h1{font-size:24px;font-weight:800;}

.container{max-width:480px;margin:30px auto;padding:0 18px;}

.card{
  background:white;
  padding:20px;
  border-radius:18px;
  box-shadow:0 6px 18px rgba(0,0,0,0.08);
  margin-bottom:20px;
}
label{font-size:14px;color:#475569;font-weight:600;}
input{
  width:100%;margin-top:6px;margin-bottom:18px;
  padding:12px;border-radius:10px;border:1px solid #cbd5e1;
  font-size:15px;
}
.btn{
  background:#0b71f4;color:white;padding:14px;font-weight:700;
  display:block;text-align:center;border-radius:12px;
  text-decoration:none;margin-top:10px;
}
.success{
  background:#ecfdf5;color:#22c55e;padding:14px;border-radius:12px;
  text-align:center;display:none;margin-bottom:18px;font-weight:600;
}
.error{
  background:#ffe5e5;color:#dc2626;padding:14px;border-radius:12px;
  text-align:center;display:none;margin-bottom:18px;font-weight:600;
}

  </style>
</head>
<body><header>
  <h1>Extend Route</h1>
</header><div class="container">  <div id="success" class="success">Route updated successfully!</div>
  <div id="error" class="error">Failed to update. Try again.</div>  <div class="card">
    <label>Current Route</label>
    <input type="text" id="currentRoute" disabled value="Loading..." /><label>New Destination</label>
<input type="text" id="newDestination" placeholder="Enter new destination" />

<label>Updated Fare (Optional)</label>
<input type="number" id="newFare" placeholder="e.g. 80" />

<button class="btn" onclick="submitRoute()">Update Route</button>

  </div><a href="dashboard.html" class="btn" style="background:#dc2626;">Back</a>

</div><script>
// Fetch existing route from DB
async function loadRoute(){
  try{
    const res = await fetch('https://your-backend.com/api/driver/getRoute.php?id=DRIVER_ID');
    const data = await res.json();
    document.getElementById('currentRoute').value = data.route;
  }catch(err){
    document.getElementById('currentRoute').value = 'Error fetching route';
  }
}

// Submit updated route
async function submitRoute(){
  const newDest = document.getElementById('newDestination').value.trim();
  const newFare = document.getElementById('newFare').value.trim();

  if(newDest === ''){
    showError('Please enter a new destination');
    return;
  }

  try{
    const res = await fetch('https://your-backend.com/api/driver/updateRoute.php',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        driver_id:'DRIVER_ID',
        destination:newDest,
        fare:newFare
      })
    });

    const data = await res.json();

    if(data.success){
      showSuccess();
    } else {
      showError('Update failed');
    }
  }catch(err){
    showError('Server error');
  }
}

function showSuccess(){
  document.getElementById('success').style.display='block';
  document.getElementById('error').style.display='none';
}
function showError(msg){
  const errBox=document.getElementById('error');
  errBox.textContent=msg;
  errBox.style.display='block';
  document.getElementById('success').style.display='none';
}

loadRoute();
</script></body>
</html>
